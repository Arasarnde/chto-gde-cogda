import "../styles/FaqSection.css";
import { QuestionItem } from "./QuestionItem";
import { useEffect, useState } from "react";
import { useLocation } from "react-router-dom";

export function FaqSection() {
  const location = useLocation();
  const [selectedLeague, setSelectedLeague] = useState("open");

  useEffect(() => {
    const getLeagueFromPath = () => {
      if (location.pathname.startsWith('/club')) {
        return 'club';
      } else if (location.pathname.startsWith('/open')) {
        return 'open';
      } else if (location.pathname.includes('corporate')) {
        return 'corporate';
      }
      return 'open'; // По умолчанию открытая лига
    };

    setSelectedLeague(getLeagueFromPath());
  }, [location]);

  const openLeagueFaqs = [
    { 
      "question": "В чем суть игры?", 
      "answer": "Игра проводится по правилам телевизионной игры «Что? Где? Когда?» 1989 года. Команды, играющие за Центральным столом, отвечают на вопросы, которые выбираются волчком. Если команда даёт правильный ответ, она продолжает игру за Центральным столом, если нет — уступает место другой команде. Игра продолжается до того момента, пока одна из сторон (знатоки или телезрители) не наберет 6 очков." 
    },
    { 
      "question": "Что делать, если у меня нет команды?", 
      "answer": "Если у вас нет команды, вы можете попытаться объединиться с другими участниками, чтобы создать команду, или стать частью уже существующей. Администрация клуба может помочь вам в этом процессе, если необходимо." 
    },
    { 
      "question": "Сколько туров и вопросов?", 
      "answer": "Игра состоит из нескольких туров, в которых команда обсуждает вопрос в течение одной минуты. Количество туров может варьироваться в зависимости от количества очков, которые набирают знатоки или телезрители. Игра продолжается до 6 очков." 
    },
    { 
      "question": "Можно ли есть и пить во время игры?", 
      "answer": "Правила не запрещают еду и напитки, но рекомендуется соблюдать атмосферу мероприятия, а также не отвлекаться на еду в процессе игры, чтобы не нарушать спокойную и сосредоточенную атмосферу клуба." 
    },
    { 
      "question": "Где можно посмотреть расписание игр?", 
      "answer": "Расписание игр обычно доступно на официальных платформах клуба, таких как сайт или в социальных сетях. Также информация может быть доступна через рассылки или уведомления, отправляемые участникам клуба." 
    },
    { 
      "question": "Можно ли прийти с детьми? Будут ли они считаться участниками?", 
      "answer": "Можно прийти с детьми, но они не будут считаться участниками игры. Также можно приводить других людей, в том числе не являющихся членами клуба." 
    }
  ];

  const clubLeagueFaqs = [
    {
      "question": "Чем отличается Клубная лига от Открытой?",
      "answer": "Клубная лига — это более профессиональный формат игры, максимально приближенный к телевизионной версии. Здесь играют более опытные команды, а вопросы требуют более глубоких знаний и логического мышления."
    },
    {
      "question": "Какие требования к командам в Клубной лиге?",
      "answer": "Команды должны иметь опыт участия в интеллектуальных турнирах и состоять из постоянных участников. Рекомендуется иметь за плечами несколько игр в Открытой лиге."
    },
    {
      "question": "Как часто проводятся игры Клубной лиги?",
      "answer": "Игры Клубной лиги проводятся еженедельно, обычно в выходные дни. Расписание публикуется заранее на сайте клуба и в социальных сетях."
    },
    {
      "question": "Есть ли система рейтинга в Клубной лиге?",
      "answer": "Да, в Клубной лиге ведется рейтинг команд. Очки начисляются за победы и учитываются при формировании турнирной таблицы. В конце сезона лучшие команды получают специальные призы."
    },
    {
      "question": "Можно ли приглашать новых игроков в команду?",
      "answer": "Да, но рекомендуется предварительно согласовать это с организаторами. Новые игроки должны соответствовать уровню команды и быть готовыми к более сложному формату игры."
    },
    {
      "question": "Какие призы разыгрываются в Клубной лиге?",
      "answer": "Помимо денежных призов, команды могут получить специальные кубки, медали и другие награды. Также проводятся специальные турниры с дополнительными призами."
    }
  ];

  const corporateFaqs = [
    {
      "question": "Как организовать корпоративное мероприятие?",
      "answer": "Для организации корпоративного мероприятия свяжитесь с нами через форму на сайте или по телефону. Мы обсудим детали, формат мероприятия, количество участников и подберем оптимальный вариант для вашей компании."
    },
    {
      "question": "Какие форматы корпоративных мероприятий доступны?",
      "answer": "Мы предлагаем различные форматы: классическая игра «Что? Где? Когда?», командные турниры, тематические игры, а также комбинированные форматы с элементами тимбилдинга. Выбор формата зависит от целей мероприятия и количества участников."
    },
    {
      "question": "Сколько человек может участвовать в мероприятии?",
      "answer": "Мы можем организовать мероприятия для групп от 10 до 200 человек. Для больших компаний мы предлагаем разделение на несколько команд и проведение нескольких игр параллельно."
    },
    {
      "question": "Какое оборудование предоставляется?",
      "answer": "Мы предоставляем всё необходимое оборудование: игровые столы, волчок, табло, микрофоны, проектор и экран. Также мы можем организовать видеосъемку мероприятия и фотосессию."
    },
    {
      "question": "Можно ли заказать тематическую игру?",
      "answer": "Да, мы разрабатываем специальные вопросы и сценарии под тематику вашей компании или конкретного мероприятия. Это может быть игра, посвященная истории компании, её продуктам или услугам."
    },
    {
      "question": "Какие дополнительные услуги доступны?",
      "answer": "Помимо основной игры, мы предлагаем: кейтеринг, музыкальное сопровождение, ведущего, призы и награды, профессиональную фото- и видеосъемку, а также помощь в организации послеигрового досуга."
    },
    {
      "question": "Какова стоимость корпоративного мероприятия?",
      "answer": "Стоимость зависит от формата мероприятия, количества участников, длительности и дополнительных услуг. Мы подготовим индивидуальное предложение после обсуждения всех деталей."
    },
    {
      "question": "Нужен ли опыт участия в игре?",
      "answer": "Нет, опыт не требуется. Наши ведущие подробно объяснят правила и помогут участникам освоиться. Мы адаптируем сложность вопросов под уровень подготовки команды."
    }
  ];

  const getFaqsByLeague = () => {
    switch (selectedLeague) {
      case "club":
        return clubLeagueFaqs;
      case "corporate":
        return corporateFaqs;
      default:
        return openLeagueFaqs;
    }
  };

  return (
    <section className={`faq-section${selectedLeague === 'corporate' ? ' faq-section--corporate' : ''}`} id="faq">
      <h2 className="section-title">FAQ</h2>
      <div className="faq-content">
        {getFaqsByLeague().map((faq, index) => (
          <QuestionItem key={index} question={faq.question} answer={faq.answer} />
        ))}
      </div>
    </section>
  );
}
