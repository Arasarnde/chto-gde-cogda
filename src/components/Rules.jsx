import React from "react";
import { useLocation } from "react-router-dom";
import "../styles/Rules.css";

export function Rules() {
  const location = useLocation();
  const league = location.pathname.startsWith('/club') ? 'club' : 'open';

  const openLeagueRules = {
    title: "Правила Открытой лиги",
    content: [
      {
        text: "Открытая лига — это игры в атмосфере настоящего «Что? Где? Когда?» с акцентом на соревновательную составляющую, максимально приближенные к телевизионному формату. Мы стремимся воссоздать дух Охотничьего домика, чтобы каждый участник почувствовал себя частью легендарного Клуба. Сохранены все атрибуты классической игры: волчок, Чёрный ящик, оригинальная музыка и распорядитель. Команды играют против вопросов телезрителей до шести очков."
      },
      {
        text: "Турниры проводятся раз в две недели. Игровые дни — понедельник и вторник, при этом команда может выбрать наиболее удобный для себя день, так как игры проводятся на одних и тех же вопросах. Игры проходят в особняке-ресторане «Баязет» (наб. Фонтанки, 112)."
      },
      {
        text: "Этот формат особенно хорош для тех, кто хочет проверить свои знания в конкурентной среде. Вопросы составляются по стандартам телепередачи, а результаты учитываются в общем рейтинге сезона. Участвовать могут все желающие."
      }
    ],
    formula: {
      title: "Формула открытой лиги",
      text: "1-й тур — каждая команда играет по 1 вопросу за центральным столом, затем проигравшие за ЦС играют ещё по одному вопросу. 2-й тур — игра в телевизионном формате: команда за центральным столом играет, пока отвечает правильно, при ошибке — меняется. Игра до 6 очков у Знатоков или Телезрителей. Побеждает та команда, которая принесла 6-е победное очко Знатокам. Параллельно ведётся турнирный зачёт по количеству набранных очков за турнирными столами."
    }
  };

  const clubLeagueRules = {
    title: "Правила Клубной лиги",
    content: [
      {
        text: "Клубная лига — это игры в атмосфере настоящего «Что? Где? Когда?», максимально приближенные к телевизионному формату. Мы стремимся воссоздать дух Охотничьего домика, чтобы каждый участник почувствовал себя частью легендарного Клуба. Сохранены все атрибуты классической игры: волчок, Чёрный ящик, оригинальная музыка и распорядитель. Команды играют против вопросов телезрителей до шести очков."
      },
      {
        text: "Турниры проводятся раз в две недели. Игровые дни — воскресенье и следующий вторник, при этом команда может выбрать наиболее удобный для себя день. Эти игры проводятся на одних и тех же вопросах и равноправно учитываются в рейтинге сезона. Игры проходят в ресторане «Лендок» (наб. Крюкова канала, 12, возле Никольского собора и Мариинского театра)."
      },
      {
        text: "Этот формат идеально подходит для тех, кто хочет пережить подлинные эмоции телевизионной версии. Вопросы составляются по стандартам телепередачи, а результаты учитываются в общем рейтинге сезона. Участвовать могут любые команды и индивидуальные игроки."
      }
    ],
    formula: {
      title: "Формула клубной лиги",
      text: "Две игры в телевизионном формате: команда за центральным столом играет, пока отвечает правильно, при ошибке — меняется. Игра до 6 очков у Знатоков или Телезрителей. Побеждает или проигрывает весь Клуб, при победе Знатоков определяется лучший игрок центрального стола. Ведётся индивидуальный рейтинг Знатоков по количеству правильных ответов команды."
    }
  };

  const rules = league === 'open' ? openLeagueRules : clubLeagueRules;

  return (
    <div className="rules-page">
      <h1 className="rules-title">{rules.title}</h1>
      
      <div className="rules-content">
        <section className="rules-section">
          {rules.content.map((paragraph, index) => (
            <p key={index}>{paragraph.text}</p>
          ))}
        </section>

        <section className="rules-section">
          <h2>{rules.formula.title}</h2>
          <p>{rules.formula.text}</p>
        </section>

        <section className="rules-section">
          <h2>Правила игры за Центральным столом</h2>
          <p>
            В каждом раунде волчок выбирает конверт с вопросом. Команда обсуждает вопрос в течение минуты и даёт устный ответ. В случае правильного ответа клуб знатоков получает очко, а правильно ответившая команда продолжает игру за Центральным столом. В случае неправильного ответа телезрители получают очко, отвечавшая команда покидает Центральный стол, и на её место садится команда с одного из столов Клуба. Игра заканчивается, когда телезрители или знатоки за Центральным столом набирают 6 очков. В случае победы знатоков Ведущий называет лучшего игрока Центрального стола из числа всех знатоков, игравших за Центральным столом в этой игре.
          </p>
        </section>

        <section className="rules-section">
          <h2>Правила игры за столами Клуба</h2>
          <p>
            Все команды, играющие за столами Клуба, обсуждают вопрос в течение минуты или меньше и сдают свою версию ответа в письменном виде. Каждый правильный ответ учитывается в индивидуальном рейтинге каждого из игроков играющей команды. При этом, если за Центральным столом очко получают телезрители, то за Центральный стол садится одна из команд, давших правильный ответ на этот вопрос.
          </p>
          <p>
            Если несколько команд претендуют на попадание за Центральный стол, то проводится жеребьёвка с помощью волчка. Команды, уже проигравшие свой раунд за Центральным столом в текущий игровой день, могут второй раз оказаться за Центральным столом только в том случае, если у знатоков 5 очков, либо если все команды Клуба тоже уже проиграли свой раунд. Во всех других случаях такие команды сдают свои ответы и получают очки в индивидуальный рейтинг, но после текущего раунда за Центральный стол сесть не могут.
          </p>
          <p>
            Если ни одна из команд, имеющих право сесть за Центральный стол, не даёт правильного ответа на вопрос, выигранный телезрителями, то команду, занимающую места за игровым столом, выбирает волчок.
          </p>
        </section>

        <section className="rules-section">
          <h2>Дресс-код</h2>
          <p>
            Одежда участников игры должна соответствовать атмосфере элитарного клуба. Мы не устанавливаем жёсткого дресс-кода, но рекомендуем выбирать гардероб, соответствующий торжественному публичному мероприятию, проводимому в ресторане с высокой репутацией. В конце концов, самому игроку будет крайне некомфортно сидеть за зеркальным столом в пусть даже очень модных, но рваных джинсах.
          </p>
        </section>

        <section className="rules-section">
          <h2>Преимущественные права на участие в играх</h2>
          <p>
            Сформировавшиеся команды, уплачивающие командный игровой взнос, имеют приоритетное право на участие в Телеформате. Игроки таких команд не заполняют вакантные места в других командах. При неявке нескольких игроков такой команды на игру, их команда дополняется до шестёрки другими членами Клуба.
          </p>
        </section>

        <section className="rules-section">
          <h2>Спорные ситуации</h2>
          <p>
            Во всех ситуациях, не урегулированных впрямую настоящими правилами, решение принимается администрацией Клуба и является окончательным.
          </p>
        </section>
      </div>
    </div>
  );
} 